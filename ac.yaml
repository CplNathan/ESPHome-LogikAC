esphome:
  name: acunit

esp8266:
  board: nodemcuv2

# Enable logging
logger:

# Enable Home Assistant API
api:
  password: ""

ota:
  password: ""

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Acunit Fallback Hotspot"
    password: !secret wifi_password

  on_disconnect:
    - switch.turn_off: ac_on_off

external_components:
  # use all components from a local folder
  - source:
      type: local
      path: my_components

switch:
  - platform: ac_switch
    name: AC Switch
    id: ac_on_off
    pin: D2
    uart_id: uart_display

uart:
  tx_pin: 0
  rx_pin: D5
  data_bits: 8
  parity: EVEN
  stop_bits: 1
  baud_rate: 4000
  id: uart_display
  debug:
    direction: BOTH
    dummy_receiver: false
    after:
      bytes: 128
    sequence:
      - lambda: UARTDebug::log_string(direction, bytes);